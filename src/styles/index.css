@import "tailwindcss";
@import "./animations.css";

@theme {
  --color-primary: var(--bg-primary);
}

/* Card border radius â€” controlled from settings */
:root {
  --card-border-radius: 16px;
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-bg: var(--bg-primary, #0f172a);
}

/* Fallback for older iOS WebKit builds that still use constant(). */
@supports (padding-top: constant(safe-area-inset-top)) {
  :root {
    --safe-area-top: constant(safe-area-inset-top);
    --safe-area-bottom: constant(safe-area-inset-bottom);
  }
}

html,
body,
#root {
  min-height: 100%;
  background-color: var(--safe-area-bg);
  overflow-x: hidden;
}

/* Paint top/bottom safe areas explicitly so they always match the active theme. */
html::before,
html::after {
  content: '';
  position: fixed;
  left: 0;
  right: 0;
  pointer-events: none;
  backdrop-filter: blur(6px);
  z-index: 2;
}

html::before {
  top: 0;
  height: calc(max(var(--safe-area-top), var(--safe-area-top-fallback, 0px)) + 14px);
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--safe-area-bg) 86%, transparent) 0%,
    color-mix(in srgb, var(--safe-area-bg) 54%, transparent) 58%,
    transparent 100%
  );
}

html::after {
  bottom: 0;
  height: calc(max(var(--safe-area-bottom), var(--safe-area-bottom-fallback, 0px)) + 14px);
  background: linear-gradient(
    0deg,
    color-mix(in srgb, var(--safe-area-bg) 86%, transparent) 0%,
    color-mix(in srgb, var(--safe-area-bg) 54%, transparent) 58%,
    transparent 100%
  );
}

body {
  margin: 0;
}

/* Keep native mobile bounce behavior. */
@media (max-width: 1024px) {
  html,
  body {
    overscroll-behavior-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }
  #root {
    overflow-y: visible;
    overscroll-behavior-y: auto !important;
  }
  body {
    overflow-y: auto;
  }
}

/* When custom bg image is active, add overlay for readability */
html.custom-bg-active body::before {
  content: '';
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  pointer-events: none;
  z-index: 0;
}

@layer utilities {
  /* Hide scrollbar for Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
      display: none;
  }
  /* Hide scrollbar for IE, Edge and Firefox */
  .no-scrollbar {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
  }
}
